<header class="site-header">
  <div class="header-container">
    <a href="{{ .Site.Home.RelPermalink }}" class="site-logo">
      <span class="logo-text">burned</span><span class="logo-accent">signal</span>
    </a>

    <button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false">
      <span class="hamburger"></span>
    </button>

    <nav class="main-nav" role="navigation">
      <ul class="nav-list">
        {{ range .Site.Menus.main }}
        <li class="nav-item">
          <a href="{{ .URL | relLangURL }}" class="nav-link{{ if $.IsMenuCurrent "main" . }} active{{ end }}">
            {{ .Name }}
          </a>
        </li>
        {{ end }}
      </ul>

      {{- partial "language-switcher.html" . -}}
    </nav>
  </div>
</header>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const toggle = document.querySelector('.mobile-menu-toggle');
  const nav = document.querySelector('.main-nav');

  if (toggle && nav) {
    toggle.addEventListener('click', function() {
      const expanded = this.getAttribute('aria-expanded') === 'true';
      this.setAttribute('aria-expanded', !expanded);
      nav.classList.toggle('is-open');
    });
  }
});
</script>
